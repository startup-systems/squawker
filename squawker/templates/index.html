<!DOCTYPE>
<html>
	<head>
		<title>Squawker</title>
	</head>
	<body>
		<h1>Squawks</h1>

		<!-- Form to post a squawk -->
		<div>
			<form action="/" method="post">
				<textarea placeholder="What's happening?"name='post_text' rows='4' cols='80'  maxlength='140' required></textarea>
				<br>
				140 chars max<br>
				<input type=submit value="Squawk">
			</form>

			{% if error != "" %}
				<p style="color:red;">{{ error }}</p>
				<br>
			{% endif %}

		</div>

		<!-- List of sqawks -->
		<div>
			{% for squawk in squawks %}
			<div>
			    {{ squawk[1] }} <!-- Post text -->
			    <br>
			    {{ squawk[2] }} <!-- Time posted -->
			    <br><br>
			<div>

			{% else %}
			    <p>There are no entries here.</p>
		    {% endfor %}
		</div>

		<!-- Handle pagination (reference: http://flask.pocoo.org/snippets/44/) -->
		<div>
		  {%- for page in pagination.iter_pages() %}
		    {% if page %}
		      {% if page != pagination.page %}
		        <a href="{{ url_for_other_page(page) }}">{{ page }}</a>
		      {% else %}
		        <strong>{{ page }}</strong>
		      {% endif %}
		    {% else %}
		      <span class=ellipsis>â€¦</span>
		    {% endif %}
		  {%- endfor %}
		  {% if pagination.has_next %}
		    <a href="{{ url_for_other_page(pagination.page + 1)
		      }}">Next &raquo;</a>
		  {% endif %}
  		</div>
	</body>
</html>